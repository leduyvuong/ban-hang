<section class="rounded-3xl border border-slate-200 bg-white p-10 shadow-sm transition dark:border-slate-700 dark:bg-slate-900" style="background-color: <%= background_color %>; color: <%= text_color %>">
  <div class="flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between">
    <div>
      <h2 class="text-2xl font-semibold"><%= title %></h2>
      <p class="mt-1 text-sm opacity-80"><%= subtitle %></p>
    </div>
    <a href="/products" class="inline-flex items-center gap-2 text-sm font-medium text-blue-600 transition hover:text-blue-500 dark:text-blue-300 dark:hover:text-blue-200">
      Xem tất cả sản phẩm
      <span aria-hidden="true">→</span>
    </a>
  </div>
  <div class="mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
    <% products.each do |product| %>
      <article class="group relative overflow-hidden rounded-2xl border border-slate-200 bg-white/80 shadow transition hover:-translate-y-1 hover:shadow-lg dark:border-slate-700 dark:bg-slate-800/70">
        <div class="relative h-48 w-full overflow-hidden bg-slate-100">
          <% if product.respond_to?(:thumbnail) && (thumb = product.thumbnail(width: 600, height: 360)) %>
            <%= image_tag thumb, alt: product.name, class: "h-full w-full object-cover transition duration-500 group-hover:scale-105", loading: "lazy" %>
          <% else %>
            <div class="flex h-full items-center justify-center text-sm text-slate-400">No image</div>
          <% end %>
        </div>
        <div class="space-y-3 p-4">
          <h3 class="text-lg font-semibold text-slate-900 dark:text-slate-100"><%= product.name %></h3>
          <% if product.respond_to?(:price) %>
            <p class="text-base font-semibold text-blue-600 dark:text-blue-300"><%= helpers.format_money(product.price) %></p>
          <% end %>
          <div class="flex gap-2">
            <%= link_to "Xem chi tiết", helpers.product_path(product), class: "inline-flex items-center rounded-full border border-blue-200 px-3 py-1 text-xs font-semibold text-blue-600 transition hover:border-blue-300 hover:text-blue-700" %>
          </div>
        </div>
      </article>
    <% end %>
    <% if products.empty? %>
      <div class="col-span-full rounded-2xl border border-dashed border-slate-300 p-10 text-center text-sm text-slate-500 dark:border-slate-600 dark:text-slate-300">
        Chưa có sản phẩm nào được chọn. Hãy cập nhật trong trình chỉnh sửa.
      </div>
    <% end %>
  </div>
</section>
