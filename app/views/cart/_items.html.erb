<% compact = local_assigns.fetch(:compact, false) %>
<% cart.preload_products %>
<% items = cart.items_with_products %>

<% if items.empty? %>
  <div class="rounded-2xl border border-dashed border-gray-300 bg-white p-6 text-center text-sm text-gray-500">
    Your cart is currently empty. Browse products to add your favourites.
  </div>
<% else %>
  <div class="space-y-4">
    <% items.each do |item| %>
      <%= render partial: "cart/line_item", locals: { item: item, compact: compact } %>
    <% end %>
  </div>
<% end %>
